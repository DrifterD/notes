# kafka

## kafka基础
2. kafka追加消息是顺序写入磁盘，效率高效
3. **日志段** 逻辑概念，对应磁盘上具体日志文件和两个索引文件，分别是“.index"和”.timeindex" 后缀
4. **代理（broker)** kafak集群中一个实例称代理（broker)
5. **消费者、消费组**  消费者通过拉去（pull)方式获取数据。每个消费者都属于一个消费组（group).一个kafka组中一个消息只能被一个消费者消费；不同消费组消费者可以同时消费同一个消息。kafka通过消费组实现单播和广播
6. ISR Kafka在Zookeeper中维护一个ISR（In-sync Replica），即保存同步副本列表。保存所有副本代理id，如果副本代理发生关闭（或者发生物理故障，心跳线过期，网络延迟，进程奔溃等），则从ISR中删除
7. **主题** 将消息抽象归纳为一个主题，即一个消息的分类 
8. **分区和副本** 一个主题有多个分区，每个分区对应一个物理文件；一个分区对应多个副本分布在各个代理上；只能保障一个分区之内的消息是有序性，不能保证跨分区消息有序性
9. **删除机制** 两个:分区时间长度;分区大小
10. **Leader 副本 Follower副本** 同一个分区中分Leader和Follower副本，客户端只需要和Leader副本同步数据，
Follower副本只需要和Leader副本同步，Follower副本只需要和Leader副本同步即可
11. ** 偏移量** 消息追加到分区中的一个逻辑顺序值

## kafka 特性
1. 消息持久化 消息被顺序追加到文件系统中
2. 高并发量
3. 扩展
4. 安全机制
5. 备份
6. 轻量
7. 支持多客户端
8. 支持流
9. 消息压缩处理
## 适用场景
1. 消息系统
2. 应用监控
3. 网站用户行为追踪
4. 流处理
5. 持久性日志
